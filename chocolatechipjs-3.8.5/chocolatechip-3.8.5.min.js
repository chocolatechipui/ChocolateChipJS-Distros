/*
ChocolateChip.js
Copyright 2015 Sourcebits www.sourcebits.com
License: MIT
Version: 3.8.5
*/
!function(){"use strict";var e=function(e){return"string"==typeof e?[]:e&&e.length&&void 0===e[0]?[]:e&&e.length?e:[]},t=function(e,n){var i=/^#([\w-]*)$/,r=/^\.([\w-]+)$/,s=/^[\w-]+$/,a=function(e){var t=document.getElementById(e.split("#")[1]);return t?[t]:[]},u=function(e,t){return[].slice.apply(t?t.getElementsByTagName(e):document.getElementsByTagName(e))},o=function(e,t){return[].slice.apply(t?t.getElementsByClassName(e.split(".")[1]):document.getElementsByClassName(e.split(".")[1]))},c=function(e,t){return"string"==typeof e&&(e=e.trim()),"string"==typeof e&&i.test(e)?a(e):e&&e instanceof Array&&e.length?e:t||"string"!=typeof e?[].slice.apply(t?t.querySelectorAll(e):document.querySelectorAll(e)):s.test(e)?u(e):r.test(e)?o(e):[].slice.apply(document.querySelectorAll(e))};if("undefined"==typeof e||e===document)return[document];if(null===e)return[];if(n){if("string"==typeof n)return[].slice.apply(document.querySelectorAll(n+" "+e));if(1===n.nodeType)return c(e,n)}else if("function"==typeof e)t.ready(function(){return e.call(e)});else{if(e&&1===e.nodeType)return[e];if("string"==typeof e){if(""===e)return[];if(/<\/?[^>]+>/.test(e))return t.make(e);try{return c(e)?c(e):[]}catch(h){return[]}}else{if(e instanceof Array)return e;if(/NodeListConstructor/i.test(e.constructor.toString()))return[].slice.apply(e);if(e===window)return[]}}return this};t.extend=function(e,n,i){return i=i||!1,n||(n=e,e=t),Object.keys(n).forEach(function(t){n.hasOwnProperty(t)&&Object.defineProperty(e,t,{value:n[t],writable:!0,enumerable:i,configurable:!0})}),this},t.extend({version:"3.8.5",libraryName:"ChocolateChip",slice:Array.prototype.slice,make:function(e){var n=[],i=document.createElement("div");return i.innerHTML=e,i=t.slice.apply(i.childNodes),i.forEach(function(e){1===e.nodeType?n.push(e):3===e.nodeType&&0!==e.nodeValue.trim().length&&n.push(e)}),n},html:function(e){return this.make(e)},replace:function(e,t){e&&t&&(e=e.length?e[0]:e,t=t.length?t[0]:t,t.parentNode.replaceChild(e,t))},require:function(e,n){n=n||t.noop;var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),i.onload=i.onreadystatechange=function(){i.readyState&&"complete"!==i.readyState||n.apply(n,arguments)},t("head").insert(i,"last")},processJSON:function(e,n){n=null!==n||void 0!==n?"var "+n+" = ":"var data = ";var i=document.createElement("script");i.setAttribute("type","text/javascript");var r="_"+t.uuidNum();i.setAttribute("id",r),i.html(n+e),t("head").append(i),t.defer(function(){var e="#"+r;t(e).remove()})},delay:function(e,n){e=e||t.noop,setTimeout(function(){e.call(e)},n)},defer:function(e){return e=e||t.noop,t.delay.apply(t,[e,1].concat(t.slice.call(arguments,1)))},noop:function(){},concat:function(e){return e instanceof Array?e.join(""):e instanceof Object?void 0:(e=t.slice.apply(arguments),String.prototype.concat.apply(e.join("")))},w:function(e){return e.split(" ")},isString:function(e){return"string"==typeof e},isArray:function(e){return Array.isArray(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return 0===Object.keys(e).length},isNumber:function(e){return"number"==typeof e},isInteger:function(e){return"number"==typeof e&&e%1===0},isFloat:function(e){return"number"==typeof e&&e%1!==0},uuidNum:function(){return Math.floor(4294967296*(1+Math.random()))},makeUuid:function(){return t.concat("chch_",t.uuid)},uuid:0,chch_cache:{},fn:{}}),t.fn.extend=function(e){return t.extend(Array.prototype,e)},t.uuid=t.uuidNum(),t.chch_cache.data={},t.chch_cache.events={},t.extend(t.chch_cache.events,{keys:[],values:[],set:function(e,n,i,r){var s,a,u=this.values.length>0?this.values.length-1:0;e.id?s=e.id:(++t.uuid,s=t.makeUuid(),e.setAttribute("id",s)),this.keys.indexOf(s)>=0?(this.values[u].push([]),a=this.values[u],a.push(n),a.push(i),a.push(r),e.addEventListener(n,i,r)):(this.keys.push(s),this.values.push([]),u=this.values.length-1,this.values[u].push([]),a=this.values[u],a[0].push(n),a[0].push(i),a[0].push(r),e.addEventListener(n,i,r))},hasKey:function(e){return this.keys.indexOf(e)>=0?!0:!1},_delete:function(e,n,i){var r=this,s=this.keys.indexOf(e),a=this.values;e&&("undefined"==typeof n&&(a[s].each(function(n){document.getElementById(e).removeEventListener(n[0],n[1],n[2]),t.chch_cache.events.keys.splice(s,1),a[s].splice(s,1)}),a.splice(s,1)),n&&i&&a[s].each(function(i){i[0]===n&&(document.getElementById(e).removeEventListener(i[0],i[1],i[2]),t.chch_cache.events.values.splice(s,1),t.chch_cache.events.keys.splice(s,1))}),n&&"undefined"==typeof i&&r.values[s].each(function(i){i[0]===n&&(document.getElementById(e).removeEventListener(i[0],i[1],i[2]),t.chch_cache.events.values.splice(s,1),t.chch_cache.events.keys.splice(s,1))}))}}),t.fn.extend({each:function(e,t){if(!this.length)return[];if("function"==typeof e){var n,i=this.length;for(t=arguments[1],n=0;i>n;n++)n in this&&this.hasOwnProperty(n)&&e.call(t,this[n],n,this);return this}},unique:function(){var e=[],t=this.sort();return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e.length?e:[]},eq:function(e){return this.length?(e=parseInt(e,10),this.length<e+1?[]:0>e?this[this.length+e]?[this[this.length+e]]:[]:0===e||e?[this[e]]:[]):[]},index:function(e){if(!this.length)return[];var n;return e?this.indexOf(e instanceof Array?e[0]:1===e.nodeType?e:e):(n=t(this[0]),n.parent().children().indexOf(n[0]))},is:function(e){if(!this.length||!e)return[];if(!this.length)return[];var n,i=[],r=function(e,i){if(n=this,"string"==typeof i){if([].slice.apply(e.parentNode.querySelectorAll(i)).indexOf(e)>=0)return e}else if("function"==typeof i){if(i.call(n))return e}else if(i&&i.length){if(-1!==t.slice.apply(i).indexOf(e))return e}else{if(1!==i.nodeType)return[];if(e===i)return e}};return this.each(function(t){r(t,e)&&i.push(t)}),i.length?i:[]},isnt:function(e){if(!this.length)return[];var n,i=[],r=function(e,i){if(n=this,"string"==typeof i){if(-1===[].slice.apply(e.parentNode.querySelectorAll(i)).indexOf(e))return e}else if("function"==typeof i){if(i.call(n))return e}else if(i.length){if(-1===t.slice.apply(i).indexOf(e))return e}else{if(1!==i.nodeType)return[];if(e!==i)return e}};return this.each(function(t){r(t,e)&&i.push(t)}),i.length?i:[]},has:function(e){if(!this.length)return[];var n=[],i=function(e,n){if("string"==typeof n){if(e.querySelector(n))return e}else{if(1!==n.nodeType)return!1;if(t.slice.apply(this.children).indexOf(n))return e}};return this.each(function(t){i(t,e)&&n.push(t)}),n.length?n:[]},hasnt:function(e){if(!this.length)return[];var n=[];return this.each(function(i){"string"==typeof e?i.querySelector(e)||n.push(i):1===e.nodeType&&(t.slice.apply(i.children).indexOf(e)||n.push(i))}),n.length?n:[]},find:function(e,n){var i=[];return this.length?(n?n.each(function(){t.slice.apply(n.querySelectorAll(e)).each(function(e){i.push(e)})}):this.each(function(n){t.slice.apply(n.querySelectorAll(e)).each(function(e){i.push(e)})}),i):i},css:function(e,n){if(!this.length)return[];var i=[];if(!e)return[];if(!n&&e instanceof Object){if(!this.length)return;this.each(function(n){for(var r in e)e.hasOwnProperty(r)&&(n.style[t.camelize(r)]=e[r]);i.push(n)})}else{if(!n&&"string"==typeof e){if(!this.length)return;return document.defaultView.getComputedStyle(this[0],null).getPropertyValue(e.toLowerCase())}if(n){if(!this.length)return[];this.each(function(r){r.style[t.camelize(e)]=n,i.push(r)})}}return i.length?i:[]},width:function(){return this.length?this.eq(0)[0].clientWidth:void 0},height:function(){return this.length?this.eq(0)[0].clientHeight:void 0},offset:function(){if(this.length){var e=this.eq(0)[0].getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right)}}},prependTo:function(e){return this.length?(this.reverse(),this.each(function(n){t(e)[0].insertBefore(n,t(e)[0].firstChild)}),this):[]},appendTo:function(e){return this.length?(this.each(function(n){t(e).append(n)}),this):[]},before:function(e){if(!this.length)return[];var n=function(e,n){if("string"==typeof n&&(n=t.make(n)),n&&n.constructor===Array)for(var i=n.length,r=0;i>r;)e.insertAdjacentElement("beforeBegin",n[r]),r++;else n&&1===n.nodeType&&e.insertAdjacentElement("beforeBegin",n);return e};return this.each(function(t){n(t,e)}),this},after:function(e){if(!this.length)return[];var n=function(e,n){var i=e.parentNode;if("string"==typeof n&&(n=t.make(n)),n&&n.constructor===Array)for(var r=0,s=n.length;s>r;)e===i.lastChild?i.appendChild(n[r]):i.insertBefore(n[r],e.nextSibling),r++;else n&&1===n.nodeType&&i.appendChild(n);return this};return this.each(function(t){n(t,e)}),this},text:function(e){if(!this.length)return[];var t="",n=function(e,t){return t||0===t?(e.innerText=t,e):e.innerText};return this.each(function(i){e?n(i,e):t+=n(i)}),e?this:t},insert:function(e,n){if(!this.length)return[];var i=function(e,n,i){e instanceof Array&&(e=e[0]);var r=[];"string"==typeof n?r=t.make(n):n&&1===n.nodeType?r.push(n):n instanceof Array&&(r=n);var s=0,a=r.length;if(!i||i>e.children.length+1||"last"===i)for(;a>s;)e.appendChild(r[s]),s++;else if(1===i||"first"===i){if(e.children)if(e.firstElementChild)for(;a>s;)e.insertBefore(r[s],e.firstChild),s++;else for(;a>s;)e.insertBefore(r[s],e.firstChild),s++}else for(;a>s;)e.insertBefore(r[s],e.childNodes[i]),s++;return e},r=e;return"string"==typeof r?this.each(function(t){i(t,e,n)}):r instanceof Array?this.each(function(e){(1===n||"first"===n)&&(r=r.reverse()),r.each(function(t){i(e,t,n)})}):1===r.nodeType&&this.each(function(e){i(e,r,n)}),this},html:function(e){if(!this.length)return[];var t=[],n=function(e,n){""===n?(e.innerHTML="",t.push(e)):n?(e.innerHTML=n,t.push(e)):n||(t=e.innerHTML)};return this.each(function(t){n(t,e)}),t.length?t:[]},prepend:function(e){return this.length?(this.insert(e,"first"),this):[]},append:function(e){return this.length?(this.insert(e,"last"),this):[]},attr:function(e,t){if(!this.length)return[];var n=[],i=function(e,t,n){return n?e.setAttribute(t,n):e.getAttribute(t)};if(t)this.each(function(r){i(r,e,t),n.push(r)});else if(this[0].hasAttribute(e))return this[0].getAttribute(e);return n.length?n:void 0},prop:function(e,t){return this.length?this.attr(e,t):[]},hasAttr:function(t){if(!this.length)return[];var n=[];return this.each(function(e){e.hasAttribute(t)&&n.push(e)}),e(n)},removeAttr:function(t){if(!this.length)return[];var n=[];return this.each(function(e){e.hasAttribute(t)&&(e.removeAttribute(t),n.push(e))}),e(n)},hasClass:function(t){if(!this.length)return[];var n=[],i=[];return/\s/.test(t)&&(i=t.split(" ")),this.each(function(e){i.length?(i.forEach(function(t){e&&e.classList&&e.classList.contains(t)&&n.push(e)}),n=n.unique()):e&&e.classList&&e.classList.contains(t)&&n.push(e)}),e(n)},addClass:function(t){if(!this.length)return[];if("string"==typeof t){var n,i=[];return this.each(function(e){/\s/.test(t)?(n=t.split(" "),n.each(function(t){e.classList.add(t)})):e.classList.add(t),i.push(e)}),e(i)}},removeClass:function(t){if(!this.length)return[];var n,i=[];return this.each(function(e){e&&(/\s/.test(t)?(n=t.split(" "),n.each(function(t){e.classList.remove(t)})):e.classList.remove(t),""===e.getAttribute("class")&&e.removeAttribute("class"),i.push(e))}),e(i)},toggleClass:function(t){if(!this.length)return[];var n=[];return this.each(function(e){e.classList.toggle(t),n.push(e)}),e(n)},dataset:function(n,i){if(!this.length)return[];var r=[];return"string"==typeof i&&i.length>=0?(this.each(function(e){e.dataset[n]=i,r.push(e)}),e(r)):this[0].dataset[t.camelize(n)]},val:function(e){return this.length?"string"==typeof e?(this[0].value=e,this):this[0]&&this[0].value?this[0].value:void 0:[]},disable:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.classList.add("disabled"),e.setAttribute("disabled",!0),e.style.cursor="default"}),e(t)},enable:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.classList.remove("disabled"),e.removeAttribute("disabled"),e.style.cursor="auto"}),e(t)},hide:function(n,i){if(!this.length)return[];var r=i||t.noop;if(!this.length)return[];{var s=[],a="",u={},o={opacity:0,height:0,padding:0};t.isWebkit?"-webkit-transition":"transition"}return this.each(function(e){u.padding=t(e).css("padding"),u.height=t(e).css("height"),u.opacity=t(e).css("opacity"),u.display=t(e).css("display"),t(e).data("ui-dimensions",u),"string"==typeof n?"slow"===n?(t(e).css({transition:"all 1s ease-out"}),t(e).css(o),setTimeout(function(){t(e).css({visibility:"hidden",display:"none"}),r.apply(e,arguments)},1e3)):"fast"===n&&(t(e).css({transition:"all .35s ease-in-out"}),t(e).css(o),setTimeout(function(){t(e).css({visibility:"hidden",display:"none"}),r.apply(e,arguments)},350)):"number"==typeof n&&(a="all "+n+"ms ease-in-out",t(e).css({transition:a}),t(e).css(o),setTimeout(function(){t(e).css({visibility:"hidden",display:"none"}),r.apply(e,arguments)},n)),i||"function"!=typeof n||(t(e).css({display:"none",visibility:"hidden"}),n.apply(e,arguments)),n||(t(e).data("",""),t(e).css({display:"none",visibility:"hidden"})),s.push(e)}),e(s)},show:function(e,n){if(!this.length)return[];{var i=n||t.noop,r=function(e,t,n){return{opacity:e,height:t,padding:n}};t.isWebkit?"-webkit-transition":"transition"}this.each(function(n){var s=t(n).data("ui-dimensions"),a=s&&s.height||"auto",u=s&&s.padding||"auto",o=s&&s.opacity||1,c=s&&s.display||"block";"string"==typeof e?"slow"===e?(t(n).css({visibility:"visible",display:c}),setTimeout(function(){t(n).css({transition:"all 1s ease-out"}),t(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},1e3)})):"fast"===e&&(t(n).css({visibility:"visible",display:c}),setTimeout(function(){t(n).css({transition:"all .250s ease-out"}),t(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},250)})):"number"==typeof e&&(t(n).css({visibility:"visible",display:c}),setTimeout(function(){t(n).css({transition:"all "+e+"ms ease-out"}),t(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},e)})),e||t(n).css({display:c,visibility:"visible",opacity:o})})},prev:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.previousElementSibling&&e.push(t.previousElementSibling)}),e},next:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.nextElementSibling&&e.push(t.nextElementSibling)}),e},first:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.firstElementChild&&e.push(t.firstElementChild)}),e},last:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.lastElementChild&&e.push(t.lastElementChild)}),e},children:function(e){if(!this.length)return[];var t=[];return e?this.forEach(function(n){[].slice.apply(n.children).forEach(function(n){[n].is(e)[0]&&t.push(n)})}):this.each(function(e){[].slice.apply(e.children).forEach(function(e){t.push(e)})}),t},parent:function(){if(!this.length)return[];var t=[];return this.each(function(e){t.push(e.parentNode)}),t=t.unique(),e(t)},ancestor:function(e){if(!this.length)return[];var n=[];if("undefined"==typeof e)return[];var i=this[0],r=null,s=i.parentNode;if(!s)return[];if("string"==typeof e&&e.trim(),"number"==typeof e){r=e||1;for(var a=1;r>a;a++){if("HTML"===s.nodeName)return s;null!==s&&(s=s.parentNode)}n.push(s)}else"string"==typeof e&&n.push(t(s).is(e).length?s:t(s).ancestor(e)[0]);return n},closest:function(e){return this.ancestor(e)},siblings:function(e){if(!this.length)return[];var n,i=[];return e=e&&"string"==typeof e?e:!1,this.each(function(r){n=t(r).parent().children(),n.splice(n.indexOf(r),1),n.each(e?function(t){[t].is(e)[0]&&i.push(t)}:function(e){i.push(e)})}),i.length?i.unique():this},clone:function(e){if(!this.length)return[];var t=[];return this.each(function(n){t.push(e!==!0&&e?n.cloneNode(!1):n.cloneNode(!0))}),t.length?t[0]:this},wrap:function(e){return this.length?(this.each(function(n){var i=t.make(e);i=i[0];var r=t(n).clone(!0);i.appendChild(r),n.parentNode.insertBefore(i,n.nextSibling),t(n).remove(n)}),this):[]},unwrap:function(){if(!this.length)return[];var e=null;return this.each(function(n){return n.parentNode!==e?(e=n.parentNode,"BODY"===n.parentNode.nodeName?!1:void t.replace(n,n.parentNode)):void 0}),this},remove:function(){return this.length?void this.each(function(e){t(e).unbind(),t(e).removeData(),e.parentNode.removeChild(e)}):[]},empty:function(){if(!this.length)return[];var n=[];return this.each(function(e){t(e).unbind(),e.textContent="",n.push(e)}),e(n)}}),t.fn.extend({bind:function(e,n,i){return this.length?(i=i||!1,this.each(function(r){t.chch_cache.events.set(r,e,n,i)}),this):[]},unbind:function(e,n,i){if(!this.length)return[];var r;return this.each(function(s){return s.id&&t.chch_cache.events.hasKey(s.id)?(i=i||!1,r=s.getAttribute("id"),void t.chch_cache.events._delete(r,e,n,i)):this}),this},trigger:function(e){return this.length?void this.each(function(t){if(document.createEvent){var n=document.createEvent("Events");n.initEvent(e,!0,!1),t.dispatchEvent(n)}}):[]},delegate:function(e,n,i,r){return this.length?(r=r||!1,void this.each(function(s){s.addEventListener(n,function(n){var r=n.target;3===n.target.nodeType&&(r=n.target.parentNode),t(e,s).each(function(s){if(s===r)i.call(s,n);else try{var a=t(r).ancestor(e);s===a[0]&&i.call(s,n)}catch(u){}})},r)})):[]},undelegate:function(e,n,i,r){return this.length?void this.each(function(e){t(e).unbind(n,i,r)}):[]},on:function(e,n,i,r){if(!this.length)return[];!n&&/Object/gim.test(e.constructor.toString())&&this.each(function(n){for(var i in e)e.hasOwnProperty(i)&&t(n).on(i,e[i])});var s,a=[];return"string"==typeof e&&(e=e.trim(),/\s/.test(e)&&(s=e.split(" "),s.length&&this.each(function(e){s.each(function(s){"function"==typeof n?(t(e).bind(s,n,i),a.push(e)):(t(e).delegate(n,s,i,r),a.push(e))})}))),this.each(function(s){"function"==typeof n?(t(s).bind(e,n,i),a.push(s)):(t(s).delegate(n,e,i,r),a.push(s))}),a.length?a:this},off:function(e,n,i,r){if(!this.length)return[];var s=[];return this.each(function(a){"function"!=typeof n&&n?(t(a).undelegate(n,e,i,r),s.push(a)):(t(a).unbind(e,n,i),s.push(a))}),s.length?s:this}}),t.fn.extend({data:function(e,n){if(!this.length)return[];var i,r=this[0];if(i=r.id,"undefined"!==e&&null!==e){if(n||0===n){var s=n;r.id?(i=r.id,t.chch_cache.data[i]?t.chch_cache.data[i][e]=s:(t.chch_cache.data[i]={},t.chch_cache.data[i][e]=s)):(++t.uuid,i=t.makeUuid(),r.setAttribute("id",i),t.chch_cache.data[i]={},t.chch_cache.data[i][e]=s)}else if(e&&i){if(!t.chch_cache.data[i])return;if(0===t.chch_cache.data[i][e])return t.chch_cache.data[i][e];if(!t.chch_cache.data[i][e])return;return t.chch_cache.data[i][e]}return this}},removeData:function(e){return this.length?void this.each(function(n){var i=n.getAttribute("id");if(i)return t.chch_cache.data[n.id]?e?(0===Object.keys(t.chch_cache.data[i]).length?delete t.chch_cache.data[i]:delete t.chch_cache.data[i][e],this):(delete t.chch_cache.data[i],this):this}):[]}}),t.extend(t,{DOMReadyList:[],executeWhenDOMReady:function(){for(var e=t.DOMReadyList.length,n=0;e>n;)t.DOMReadyList[n](),n++;t.DOMReadyList=[],document.removeEventListener("DOMContentLoaded",t.executeWhenDOMReady,!1)},ready:function(e){document.getElementsByTagName("body")[0]?e():(0===t.DOMReadyList.length&&document.addEventListener("DOMContentLoaded",t.executeWhenDOMReady,!1),t.DOMReadyList.push(e))}}),t.fn.extend({ready:function(e){return this.length?void t.ready(function(){return e.call(e)}):[]}}),t.fn.extend({animate:function(e){if(!this.length)return[];var n,i,r=null,s=s||".5s",a=a||"linear",u={};return"ontransitionend"in window?(n="transition",i="transitionend"):(n="-webkit-transition",i="webkitTransitionEnd"),u[n]="all "+s+" "+a,this.forEach(function(n){for(var s in e)"onEnd"===s?(r=e[s],t(n).bind(i,r())):u[s]=e[s];t(n).css(u)}),this}}),t.extend(t,{camelize:function(e){return"string"==typeof e?e.replace(/\-(.)/g,function(e,t){return t.toUpperCase()}):void 0},deCamelize:function(e){return"string"==typeof e?e.replace(/([A-Z])/g,"-$1").toLowerCase():void 0},capitalize:function(e,n){if(e&&"string"==typeof e){if(n){var i=e.split(" "),r=[];return i.each(function(e){r.push(t.capitalize(e))}),r.join(" ")}return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}}}),t.extend(t,{form2JSON:function(e,n){function i(e){for(var t=[],n=e.firstChild;n;){if(n.nodeName.match(/INPUT|SELECT|TEXTAREA/i))t.push({name:n.name,value:r(n)});else{var s=i(n);t=t.concat(s)}n=n.nextSibling}return t}function r(e){if("INPUT"===e.nodeName){if("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()){if(e.checked)return e.value}else if(!e.type.toLowerCase().match(/button|reset|submit|image/i))return e.value}else{if("TEXTAREA"===e.nodeName)return e.value;if("SELECT"===e.nodeName)return s(e)}return""}function s(e){var n=e.multiple;if(!n)return e.value;if(e.selectedIndex>-1){var i=[];return t("option",e).each(function(e){e.selected&&i.push(e.value)}),i}}e="string"==typeof e?t(e)[0]:e,n=n||".";var a=i(e),u={},o={};return a.each(function(e){var t=e.value;if(""!==t)for(var i=e.name,r=i.split(n),s=u,a=0;a<r.length;a++){var c,h=r[a];if(h.indexOf("[]")>-1&&a===r.length-1)c=h.substr(0,h.indexOf("[")),s[c]||(s[c]=[]),s[c].push(t);else if(h.indexOf("[")>-1){c=h.substr(0,h.indexOf("["));var l=h.replace(/^[a-z]+\[|\]$/gi,"");o[c]||(o[c]={}),s[c]||(s[c]=[]),a===r.length-1?s[c].push(t):o[c][l]||(s[c].push({}),o[c][l]=s[c][s[c].length-1]),s=o[c][l]}else a<r.length-1?(s[h]||(s[h]={}),s=s[h]):s[h]=t}}),u}}),t.extend(t,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isWebOS:/webos/gim.test(navigator.userAgent),isBlackberry:/blackberry/gim.test(navigator.userAgent),isTouchEnabled:"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isiOS6:navigator.userAgent.match(/OS 6/i),isiOS7:navigator.userAgent.match(/OS 7/i),isWin:/trident/gim.test(navigator.userAgent),isWinPhone:/trident/gim.test(navigator.userAgent)&&/mobile/gim.test(navigator.userAgent),isIE10:navigator.userAgent.match(/msie 10/i),isIE11:navigator.userAgent.match(/msie 11/i),isWebkit:navigator.userAgent.match(/webkit/),isMobile:/mobile/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:/Chrome/gim.test(navigator.userAgent),isNativeAndroid:/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)}),t.extend({Deferred:function(e){var n="pending",i=[],r=[],s=[],a=null,u={done:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(Array.isArray(arguments[e]))for(var t=arguments[e],r=0;r<t.length;r++)"resolved"===n&&t[r].apply(this,a),i.push(t[r]);else"resolved"===n&&arguments[e].apply(this,a),i.push(arguments[e]);return this},fail:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(Array.isArray(arguments[e]))for(var t=arguments[e],i=0;i<t.length;i++)"rejected"===n&&t[i].apply(this,a),r.push(t[i]);else"rejected"===n&&arguments[e].apply(this,a),r.push(arguments[e]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var e=0;e<arguments.length;e++)if(arguments[e])if(Array.isArray(arguments[e]))for(var t=arguments[e],i=0;i<t.length;i++)"pending"===n&&s.push(t[i]);else"pending"===n&&s.push(arguments[e]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(e){if(null===e||void 0===e)return u;for(var t in u)e[t]=u[t];return e},state:function(){return n},debug:function(){console.log("[debug]",i,r,n)},isRejected:function(){return"rejected"===n},isResolved:function(){return"resolved"===n},pipe:function(e,n){var i=function(e,n){if(t.isArray(e))for(var i=0;i<e.length;i++)n(e[i]);else n(e)};return t.Deferred(function(t){i(e,function(e){o.done("function"==typeof e?function(){var n=e.apply(this,arguments);n&&"function"==typeof n?n.promise().then(t.resolve,t.reject,t.notify):t.resolve(n)}:t.resolve)}),i(n,function(e){o.fail("function"==typeof e?function(){var n=e.apply(this,arguments);n&&"function"==typeof n?n.promise().then(t.resolve,t.reject,t.notify):t.reject(n)}:t.reject)})}).promise()}},o={resolveWith:function(e){if("pending"===n){n="resolved",a=arguments.length>1?arguments[1]:[];for(var t=0;t<i.length;t++)i[t].apply(e,a)}return this},rejectWith:function(e){if("pending"===n){n="rejected",a=arguments.length>1?arguments[1]:[];for(var t=0;t<r.length;t++)r[t].apply(e,a)}return this},notifyWith:function(e){if("pending"===n){a=2<=arguments.length?t.slice.call(arguments,1):[];for(var i=0;i<s.length;i++)s[i].apply(e,a)}return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},c=u.promise(o);return e&&e.apply(c,[c]),c}}),t.extend({when:function(){if(arguments.length<2){var e=arguments.length?arguments[0]:void 0;return e&&"function"==typeof e.isResolved&&"function"==typeof e.isRejected?e.promise():t.Deferred().resolve(e).promise()}return function(e){var n=t.Deferred(),i=e.length,r=0,s=[];s.length=i;for(var a=0;a<e.length;a++)!function(t){e[t].done(function(){s[t]=arguments.length<2?arguments[0]:arguments,++r===i&&n.resolve.apply(n,s)}).fail(function(){n.reject(arguments)})}(a);return n.promise()}(arguments)}}),t.extend(t,{ajax:function(e){var n={type:"GET",beforeSend:t.noop,success:t.noop,error:t.noop,context:null,async:!0,timeout:0};t.extend(n,e);{var i={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",form:"application/x-www-form-urlencoded"},r=new XMLHttpRequest,s=new t.Deferred,a=n.type||"GET",u=n.async||!1,o=n.data||null;e.context||s}if(r.queryString=o,r.timeout=n.timeout?n.timeout:0,r.open(a,n.url,u),n.headers)for(var c in n.headers)n.headers.hasOwnProperty(c)&&r.setRequestHeader(c,n.headers[c]);n.dataType&&r.setRequestHeader("Content-Type",i[n.dataType]),r.handleResp=n.success;var h=function(){0===r.status&&4===r.readyState||r.status>=200&&r.status<300&&4===r.readyState||304===r.status&&4===r.readyState?n.dataType&&"json"===n.dataType?(r.handleResp(JSON.parse(r.responseText)),s.resolve(r.responseText,n.context,r)):(r.handleResp(r.responseText),s.resolve(r.responseText,n.context,r)):r.status>=400&&error&&(error(r),s.reject(r.status,n.context,r))};return u?(n.beforeSend!==t.noop&&n.beforeSend(r,n),r.onreadystatechange=h,r.send(o)):(n.beforeSend!==t.noop&&n.beforeSend(r,n),r.send(o),h()),s},get:function(e,n,i,r){return e?n?(r||(r=null),"function"!=typeof n||i?"string"==typeof n&&"function"==typeof i?t.ajax({url:e,type:"GET",data:n,success:i,dataType:r}):void 0:t.ajax({url:e,type:"GET",success:n})):t.ajax({url:e,type:"GET"}):void 0},getJSON:function(e,n,i){e&&n&&("function"!=typeof n||i?"string"==typeof n&&"function"==typeof i&&t.ajax({url:e,type:"GET",data:n,success:i,dataType:"json"}):t.ajax({url:e,type:"GET",async:!0,success:n,dataType:"json"}))},JSONP:function(e){var n={url:null,callback:t.noop,callbackType:"callback=?",timeout:null};t.extend(n,e);var i=new t.Deferred,r="fn_"+t.uuidNum(),s=document.createElement("script"),a=t("head")[0];s.setAttribute("id",r);var u=new Date;window[r]=function(e){a.removeChild(s),n.callback(e),i.resolve(e,"resolved",n),delete window[r]};var o=n.callbackType.substr(0,n.callbackType.length-1);if(s.src=n.url.replace(n.callbackType,o+r),a.appendChild(s),n.timeout){setTimeout(function(){new Date-u>0&&(i.reject("timedout",n),n.callback=t.noop)},n.timeout)}return i},post:function(e,n,i,r){e&&n&&("function"!=typeof n||r?"string"==typeof n&&"function"==typeof i&&(r||(r="form"),t.ajax({url:e,type:"POST",data:n,success:i,dataType:r})):(r="string"==typeof i?i:"form",t.ajax({url:e,type:"POST",success:n,dataType:r})))}}),t.extend(t,{templates:{},template:function(e,t){var n,i,r;t=t?t:"data",n=/\[\[=([\s\S]+?)\]\]/g,i="[[",r="]]";var s=new Function(t,"var p=[];p.push('"+e.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(n,"',$1,'").split(i).join("');").split(r).join("p.push('")+"');return p.join('');");return s}}),t.template.data={},t.template.index=0,t.template.repeater=function(e,n,i){if(e){if(!t.isArray(i))return console.error("$.template.repeater() requires data of type Array."),"$.template.repeater() requires data of type Array.";var r=t.template(n);t.isArray(i)&&i.forEach(function(n){t(e).append(r(n))})}else{var s=t("[data-repeater]");t.template.index=0,s.forEach(function(e){var n=e.innerHTML;e=t(e);var i=e.attr("data-repeater");if(!i||!t.template.data[i])return void console.error("No matching data for template. Check your data assignment on $.template.data or the template's data-repeater value.");e.empty(),e.removeClass("cloak");var r=t.template(n);t.template.data[i].forEach(function(n){e.append(r(n)),t.template.index+=1}),delete t.template.data[i]})}},t.extend(t,{subscriptions:{},subscribe:function(e,n){var i=t.uuidNum();return t.subscriptions[e]||(t.subscriptions[e]=[]),t.subscriptions[e].push({token:i,callback:n}),i},unsubscribe:function(e){setTimeout(function(){for(var n in t.subscriptions)if(t.subscriptions[n])for(var i=0,r=t.subscriptions[n].length;r>i;i++)if(t.subscriptions[n][i].token===e)return t.subscriptions[n].splice(i,1),e;return!1})},publish:function(e,n){return t.subscriptions[e]?void setTimeout(function(){for(var i=t.subscriptions[e]?t.subscriptions[e].length:0;i--;)t.subscriptions[e][i].callback(e,n);return!0}):!1}}),window.$chocolatechipjs=t,"undefined"==typeof window.$&&(window.$=t)}();